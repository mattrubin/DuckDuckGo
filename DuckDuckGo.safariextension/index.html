<html>
<head>
<script type="text/javascript">

safari.application.addEventListener('beforeSearch', function(evt) {
    var search = encodeURIComponent(evt.query);
    var url = "https://duckduckgo.com?q=" + search.replace(/%20/g, '+');

    evt.preventDefault();
    evt.target.url = url;
}, false);

</script>
</head>
</html>
